{% extends "base.html" %}

{% block title %}Verify 2FA - MV Internal{% endblock %}

{% block content %}
<div style="max-width: 400px; margin: 4rem auto; padding: 2rem;">
    <div class="card">
        <h2 style="margin-bottom: 1.5rem; text-align: center;">Two-Factor Authentication</h2>

        <p style="color: var(--text-secondary); margin-bottom: 1.5rem; text-align: center;">
            Enter the 6-digit code from your authenticator app
        </p>

        {% if email %}
        <p style="font-size: 0.875rem; color: var(--text-muted); margin-bottom: 1rem; text-align: center;">
            Logging in as: {{ email }}
        </p>
        {% endif %}

        {% if error %}
        <div style="background: var(--error-bg); color: var(--error); padding: 0.75rem; border-radius: 0.375rem; margin-bottom: 1rem; font-size: 0.875rem;">
            {{ error }}
        </div>
        {% endif %}

        <form method="POST">
            <div style="margin-bottom: 1.5rem;">
                <input type="text"
                       name="code"
                       class="input"
                       placeholder="000000"
                       pattern="[0-9]{6}"
                       maxlength="6"
                       required
                       autofocus
                       autocomplete="one-time-code"
                       inputmode="numeric"
                       style="text-align: center; font-size: 1.5rem; letter-spacing: 0.5rem; font-family: monospace;">
            </div>

            <button type="submit" class="btn btn-accent" style="width: 100%;">
                Verify
            </button>
        </form>

        <div style="margin-top: 1.5rem; text-align: center;">
            <a href="/login" style="color: var(--text-muted); font-size: 0.875rem;">
                &larr; Back to login
            </a>
        </div>
    </div>
</div>

<style>
:root {
    --error-bg: #fef2f2;
    --error: #dc2626;
}
</style>
{% endblock %}
